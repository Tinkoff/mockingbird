"use strict";

var curryN = require('../function/curryN');

/**
 * Return max value in array, depending on result of calling `fn`
 *
 * @param {Function} fn The function invoked per element.
 * @param {Array} arr
 * @returns {*} Returns the maximum value.
 * @example
 *
 *      var objects = [{ 'n': 1 }, { 'n': 2 }];
 *
 *      maxBy(o => o.n, objects); // => { 'n': 2 }
 *
 */
module.exports = curryN(2, function (fn, arr) {
  if (arr === void 0) {
    arr = [];
  }

  var result;
  var max = -Infinity;

  for (var i = 0; i < arr.length; i++) {
    var computed = fn(arr[i], i, arr);

    if (computed > max) {
      max = computed;
      result = arr[i];
    }
  }

  return result;
});